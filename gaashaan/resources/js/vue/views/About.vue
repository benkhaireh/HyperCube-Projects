<template>
    <section class="relative block w-full p-[50px] bg-[#141418]">
        <div class="relative block w-full max-w-[600px] z-10">
            <ul class="flex items-center">
                <li class="text-white bold mx-4">
                    <router-link to="/">Home</router-link>
                </li>
                <li class="text-white bold">></li>
                <li class="text-gray-400 mx-4 bold">About Us</li>
            </ul>
            <div class="py-[140px]">
                <h2 class="text-[50px] text-white bold">
                    Who we are & why we're
                    <b class="bg-[#06a8d9] px-2 py-1">doing cybersecurity</b>
                </h2>
                <p class="text-[17px] text-gray-400">
                    We believe every business, no matter the size or industry,
                    should be able to ensure they can protect themselves with a
                    plan against the bad guys online.
                </p>
            </div>
        </div>
        <div class="absolute top-[100px] right-[400px] z-0">
            <img src="/imgs/banner-shape-1.png" alt="Image" />
        </div>
        <div class="absolute top-[40px] right-[300px]">
            <img src="/imgs/banner-shape-4.png" alt="Image" />
        </div>
    </section>
    <section class="relative block w-full pt-[100px] pb-[100px]">
        <div class="absolute top-[200px] right-[300px]">
            <img src="/imgs/testimonial-shape-3.png" alt="Image" />
        </div>
        <div class="container mx-auto">
            <div class="block max-w-[600px] mx-auto">
                <h2
                    class="text-white bold text-[38px] mb-[28px] text-center leading-[44px]"
                >
                    The Perfect Solution For All Protection Question
                </h2>
                <p
                    class="text-[17px] leading-[26px] font-[400] text-gray-400 text-center"
                >
                    We understand that you want to make sure your digital assets
                    are protected against breaches. The issue is that you don't
                    have the resources in your organization to develop the right
                    plan to make sure you're both protected and compliant. It
                    can be extremely daunting and disruptive for organizations
                    that are trying to be more avant-garde and less reactive.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 pt-[100px]">
                <div class="block w-full">
                    <img
                        src="/imgs/about-img-3.jpg"
                        alt="About Gaashaan"
                        class="block w-full rounded-lg"
                    />
                </div>
                <div class="block flex-1">
                    <ul class="mb-[30px]">
                        <li
                            class="relative inline-block shadow-lg rounded-[10px] p-[30px] pl-[125px] mb-[20px] bg-[#141418]"
                        >
                            <div
                                class="absolute top-[30px] left-[30px] flex items-center justify-center w-[80px] h-[80px] leading-[80px] text-center bg-[#19233A] shadow-lg rounded-[50%]"
                            >
                                <img
                                    src="/imgs/icon-1.svg"
                                    alt="Image"
                                    class="max-w-[100%] h-auto align-middle"
                                />
                            </div>
                            <h3 class="text-[22px] mb-[16px] text-white bold">
                                Proven cybersecurity experts
                            </h3>
                            <p class="text-gray-400">
                                Every organization deserves the experience and
                                knowledge to defend themselves. After all, you
                                must leverage cybersecurity to build trust with
                                your clients. Our team of experts help you get
                                there by providing personalized solutions that
                                follow best practices.
                            </p>
                        </li>
                        <li
                            class="relative inline-block shadow-lg rounded-[10px] p-[30px] pl-[125px] mb-[20px] bg-[#141418]"
                        >
                            <div
                                class="absolute top-[30px] left-[30px] flex items-center justify-center w-[80px] h-[80px] leading-[80px] text-center bg-[#19233A] shadow-lg rounded-[50%]"
                            >
                                <img
                                    src="/imgs/icon-2.svg"
                                    alt="Image"
                                    class="max-w-[100%] h-auto align-middle"
                                />
                            </div>
                            <h3 class="text-[22px] mb-[16px] text-white bold">
                                Infrastructure Security implementation
                            </h3>
                            <p class="text-gray-400">
                                Whether you need a risk assessment, security
                                software, policy development, or anything
                                cybersecurity-related, we have you covered. We
                                focus on the right solutions for your specific
                                needs. We have no requirements from third
                                parties to sell their products and services.
                            </p>
                        </li>
                        <li
                            class="relative inline-block shadow-lg rounded-[10px] p-[30px] pl-[125px] mb-[20px] bg-[#141418]"
                        >
                            <div
                                class="absolute top-[30px] left-[30px] flex items-center justify-center w-[80px] h-[80px] leading-[80px] text-center bg-[#19233A] shadow-lg rounded-[50%]"
                            >
                                <img
                                    src="/imgs/icon-13.svg"
                                    alt="Image"
                                    class="max-w-[100%] h-auto align-middle"
                                />
                            </div>
                            <h3 class="text-[22px] mb-[16px] text-white bold">
                                Clear Communicators
                            </h3>
                            <p class="text-gray-400">
                                We love tech buzzwords, but we work with clients
                                in a way that is easy-to-understand. We are
                                aware that everyone we work with doesn't come
                                from an IT background.
                            </p>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>
    <section class="relative py-[80px]">
        <div class="absolute top-[50px] left-[0px]">
            <img src="/imgs/testimonial-shape-2.png" alt="Image" />
        </div>
        <div class="block max-w-[600px] mx-auto">
            <h1 class="text-[3rem] text-center bold text-[#f0f8ff] uppercase">
                Experienced & Trusted
            </h1>
            <p
                class="text-[17px] leading-[26px] font-[400] text-gray-400 text-center"
            >
                We're true experts who understand risk reduction priorities and
                technologies. Trusted by world's leading companies, we also
                provide you security with 24/7 continuous support.
            </p>
        </div>
        <div class="container mx-auto mt-[100px]">
            <div class="flex items-center justify-between">
                <div class="block w-[300px] bg-gray-200 p-2 rounded-lg mx-4">
                    <img
                        src="/imgs/fortinet_logo.png"
                        alt="Fortinet Partner"
                        class="block w-full"
                    />
                </div>
                <div class="block w-[300px] bg-gray-200 p-2 rounded-lg mx-4">
                    <img
                        src="/imgs/cisco_logo.png"
                        alt="Fortinet Partner"
                        class="block w-full"
                    />
                </div>
                <div class="block w-[300px] bg-gray-200 p-2 rounded-lg mx-4">
                    <img
                        src="/imgs/thales_logo.png"
                        alt="Fortinet Partner"
                        class="block w-full"
                    />
                </div>
                <div class="block w-[300px] bg-gray-200 p-2 rounded-lg mx-4">
                    <img
                        src="/imgs/oracle_logo.png"
                        alt="Fortinet Partner"
                        class="block w-full"
                    />
                </div>
            </div>
        </div>
    </section>
    <section
        class="relative block w-full py-[50px] md:py-[70px] mt-[150px] bg-[#1D212B]"
    >
        <div class="container mx-auto">
            <div class="flex flex-wrap md:flex-nowrap items-center px-8">
                <div class="block w-full my-4">
                    <h2 class="text-[32px] text-white bold">
                        Ready To Get Free Consultations For Powerful Cyber
                        Security Solutions?
                    </h2>
                </div>
                <div class="block w-full my-4">
                    <div class="text-right">
                        <button
                            @click="showQuote"
                            type="button"
                            class="px-[30px] py-[16px] text-white bg-[#266fe2] border-[#266fe2] rounded-[50px] font-[700] text-[16px] leading-[15px] cursor-pointer"
                        >
                            Get A Quote
                            <i
                                class="ri-arrow-right-line text-lg relative left-[3px] top-[3px]"
                            ></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="absolute bottom-0 left-[100px]">
            <img src="/imgs/consultations-shape-1.png" alt="Image" />
        </div>
    </section>

    <section class="fixed top-0 left-0 right-0 z-[1000] backdrop" v-if="quote">
        <div
            class="relative mx-auto px-4 md:px-auto w-full lg:w-2/4 sm:w-4/5 pt-8 pb-8 h-full z-10 overflow-y-auto"
        >
            <form
                action=""
                class="px-4 py-6 md:px-8 shadow-lg rounded-xl bg-white"
                @submit.prevent="sendquote"
            >
                <h2
                    class="flex items-center justify-between w-full px-2 py-2 mb-6 border-b border-gray-400"
                >
                    <span class="text-brand-primary font-bold"
                        >Quote request form</span
                    >
                    <i class="ri-money-dollar-circle-fill font-bold"></i>
                </h2>
                <div class="flex-1 mr-4">
                    <input-comp
                        type="text"
                        label="fullname"
                        label_txt="Your first & last name"
                        icon="user"
                        v-model="formData.fullname"
                        :error="error.fullname"
                        required
                    />
                </div>
                <div class="flex-1 mr-4">
                    <input-comp
                        type="email"
                        label="email"
                        label_txt="Your email address"
                        icon="at"
                        v-model="formData.email"
                        :error="error.email"
                        required
                    />
                </div>
                <div class="flex-1 mr-4">
                    <input-comp
                        type="number"
                        label="phone"
                        label_txt="Your mobile number"
                        icon="phone"
                        v-model="formData.phone"
                        :error="error.phone"
                        required
                    />
                </div>
                <div class="block w-full mb-4 mr-4">
                    <span class="block text-grey-darker font-bold mb-2"
                        >Service selection</span
                    >
                    <vue-multiselect
                        v-model="formData.service"
                        :options="options"
                        :allow-empty="false"
                        :taggable="true"
                        :multiple="true"
                    >
                    </vue-multiselect>
                    <small
                        class="flex items-start text-red-500 mt-2 font-bold"
                        v-if="error.service"
                    >
                        <i class="ri-alert-fill mr-2"></i>
                        <span v-text="error.service"></span>
                    </small>
                </div>
                <div class="flex-1">
                    <textarea-comp
                        label="message"
                        label_txt="Tell us more about your project"
                        icon="edit-2"
                        v-model="formData.message"
                        :error="error.message"
                        placeholder="What exactly do you need?"
                        :limitmaxCount="5020"
                        required
                    />
                </div>
                <div class="flex justify-between mt-8">
                    <button
                        type="button"
                        class="inline-block px-4 py-2 text-white bg-brand-secondary rounded-lg mr-8"
                        @click="hideQuote"
                    >
                        Annuler
                    </button>
                    <button
                        type="submit"
                        class="inline-block px-4 py-2 text-white bg-brand-primary rounded-lg"
                    >
                        Get the quote
                    </button>
                </div>
            </form>
        </div>
    </section>

    <div v-if="alert">
        <alert-comp
            :alertType="altType"
            :alertTxt="altTxt"
            :alertLang="altLang"
            @alert="theAlert"
        />
    </div>

    <div
        class="fixed top-0 left-0 right-0 bottom-0 flex items-center justify-center z-[1001]"
        v-if="loader"
    >
        <div class="absolute top-0 left-0 right-0 bottom-0 backdrop"></div>
        <div class="lds-ripple z-10">
            <div></div>
            <div></div>
        </div>
    </div>
</template>
<script>
import InputComp from "../components/inputcomp.vue";
import VueMultiselect from "vue-multiselect";
import AlertComp from "../components/AlertComp.vue";
import TextareaComp from "../components/TextareaComp.vue";
export default {
    name: "about",
    components: {
        InputComp,
        VueMultiselect,
        AlertComp,
        TextareaComp,
    },
    data() {
        return {
            formData: {
                fullname: "",
                email: "",
                phone: "",
                service: "Monitoring 24/7",
                recaptcha: "",
                message: "",
            },
            error: {
                fullname: "",
                email: "",
                phone: "",
                service: "",
                message: "",
            },
            options: [
                "Monitoring 24/7",
                "Intrusion Detection",
                "Incident Response",
                "Threat Intelligence",
                "Anti-Phishing",
                "Web Monitoring",
                "Virtual CISO",
                "Technical & Operational Support",
                "Security Devices Management",
                "Logs management",
            ],
            loader: false,
            csrf_token: document
                .querySelector('meta[name="_token"]')
                .getAttribute("content"),
            alert: false,
            altType: "",
            altTxt: "",
            altLang: "fr",
            quote: false,
        };
    },
    methods: {
        theAlert: function (e) {
            this.alert = e;
        },
        hideQuote: function () {
            this.quote = false;
        },
        showQuote: function () {
            this.loader = true;

            setTimeout(() => {
                this.quote = true;
                this.loader = false;
            }, 3000);
        },
        sendquote: function () {
            this.loader = true;

            const header = {
                credentials: "same-origin",
                headers: {
                    "Content-Type": "application/json",
                    "X-CSRF-TOKEN": this.csrf_token,
                },
            };

            const body = JSON.stringify(this.formData);

            const getting = async () => {
                await this.$recaptchaLoaded();
                const token = await this.$recaptcha("quote");
                this.formData.recaptcha = token;

                let data = await axios
                    .post("/send/quote/", body, header)
                    .then((response) => {
                        return response.data;
                    })
                    .catch(function (error) {
                        if (error.response) {
                            console.error(error.response);
                        }
                    });
                if (data.code == "CREDENTIALS") {
                    const errors = Object.keys(data.message);
                    for (let i = 0; i < errors.length; i++) {
                        const errorTxt = data.message[errors[i]];
                        this.error[errors[i]] = errorTxt.toString();
                    }
                } else if (data.code == "SUCCESS") {
                    this.alert = true;
                    this.altType = "success";
                    this.altTxt = data.message;
                    this.formData.fullname = "";
                    this.formData.email = "";
                    this.formData.phone = "";
                    this.formData.service = "";
                    this.formQuote.message = "";
                    this.quote = false;
                } else if (data.code == "UNKNOWN") {
                    this.alert = true;
                    this.altType = "error";
                    this.altTxt = data.message;
                } else {
                    console.log(data);
                }

                this.loader = false;
            };

            setTimeout(() => {
                this.loader = false;
            }, 30000);
            getting();
        },
    },
};
</script>

<style src="vue-multiselect/dist/vue-multiselect.css"></style>
